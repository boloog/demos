!function(a){function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return a[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}var i={};s.m=a,s.c=i,s.i=function(a){return a},s.d=function(a,i,t){s.o(a,i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!0,get:t})},s.n=function(a){var i=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(i,"a",i),i},s.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},s.p="",s(s.s=1)}([function(a,s){(function(){function a(a){this.page=1,this.nums=23,this.star=0,this.color=0,this.wujiangId=$("#wujiang-list"),this.showBox=$("#wujiang-show"),this.dataid=a,this.GameRole(this.page,this.nums,this.star,this.color),this.heroSearch(),this.liAddEvent(),this.prevPage(),this.nextPage(),this.heroStars(),this.heroQuality()}return a.prototype.GameRole=function(a,s,i,t){var n={page:a,nums:s,star:i,color:t},o=this;this.showBox.empty(),o.wujiangId.hide(),o.wujiangId.find("ul").empty(),$.get("http://qysg.vxinyou.com/game_role/list.php",n,function(a){if(a.success){var s="";for(var i in a.data)s+='<li class="spbg gameinfo-bg2"><i class="spbg gameinfo-active" data-gameid="'+i+'"></i><img src="http://images.vxinyou.com/qysg/pc/images/hero/card_'+i+'.jpg"><p>'+a.data[i].name+"</p></li>",page_n=i;var t="";t=o.page<parseInt(a.all/page_n)&&o.page<o.nums?'<li class="spbg gameinfo-bg1"><span>下一页</span></li>':o.page*o.nums>a.all?a.all<23?"":'<li class="spbg gameinfo-bg3"><span>上一页</span></li>':2===n.color?'<li class="spbg gameinfo-bg1"><span>下一页</span></li>':3===n.color?'<li class="spbg gameinfo-bg1"><span>下一页</span></li>':'<li class="spbg gameinfo-bg3"><span>上一页</span></li><li class="spbg gameinfo-bg1"><span>下一页</span></li>',s+=t,o.wujiangId.find("ul").removeClass("no-hero-list").append(s),o.dataid>0?(o.wujiangId.hide(),o.getRoleInfo(o.dataid),o.dataid=0):o.wujiangId.fadeIn()}else o.wujiangId.find("ul").addClass("no-hero-list").text("没有记录"),o.wujiangId.fadeIn()},"json")},a.prototype.prevPage=function(){var a=this;this.wujiangId.on("click",".gameinfo-bg1",function(){a.page++,a.GameRole(a.page,a.nums,a.star,a.color)})},a.prototype.nextPage=function(){var a=this;this.wujiangId.on("click",".gameinfo-bg3",function(){a.page--,a.GameRole(a.page,a.nums,a.star,a.color)})},a.prototype.heroStars=function(){var a=this;$(".nav-list-01").on("click","dt,dd",function(){a.star=$(this).data("quality"),$(this).addClass("hover").siblings().removeClass("hover"),a.page=1,a.GameRole(a.page,a.nums,a.star,a.color)})},a.prototype.heroQuality=function(){var a=this;$(".nav-list-02").on("click","dt,dd",function(){a.color=$(this).data("cost"),a.page=1,$(this).addClass("hover").siblings().removeClass("hover"),a.GameRole(a.page,a.nums,a.star,a.color)})},a.prototype.liAddEvent=function(){var a=this;this.wujiangId.on("click",".gameinfo-bg2",function(){var s=$(this).find("i").data("gameid");a.getRoleInfo(s)})},a.prototype.heroSearch=function(){var a=$("#searWujiang");a.focus(function(){var s=$(a);"请输入武将名称"==s.val()?s.val(""):s.val()}),a.blur(function(){var s=$(a);""==s.val()?s.val("请输入武将名称"):s.val()});var s=this;$(".search-btn").on("click",function(){var i,t=a.val();$.get("http://qysg.vxinyou.com/game_role/so.php",{key:t},function(a){if(a.success){for(var t in a.data)i=t;s.getRoleInfo(i)}else alert("请正确输入武将名称！")},"json")})},a.prototype.getRoleInfo=function(a){var s=this;this.wujiangId.hide(),this.showBox.empty(),$.get("http://qysg.vxinyou.com/game_role/info.php",{id:a},function(a){var i='<a href="javascript:;" class="spbg back-btn back-wujiang">&lt; 返回武将库</a><div class="gameinfo-show"><div class="show-top clearfix"><h3>'+a.data.name+" - "+a.data.color+'</h3><div class="spbg wj-star wj-star'+a.data.star+'"></div><div class="bq-ms" style="padding-left: 0;">'+a.data.content+"</div>",t='<div class="initial-attribute"><p class="tit-img-name"><s class="spbg hero-left-ico ico-cs"></s> 初始属性</p>';for(var n in a.data.param)n<1?(par=Math.floor(a.data.param[n].nums/1400*100),t+='<p class="progress-bar"><span>'+a.data.param[n].text+'</span><em class="color-'+n+'" style="width:'+par+'%"></em></p>'):(par=Math.floor(a.data.param[n].nums/630*100),t+='<p class="progress-bar"><span>'+a.data.param[n].text+'</span><em class="color-'+n+'" style="width:'+par+'%;"></em></p>');t+='</div><div class="hero-b-img"><img src="http://images.vxinyou.com/qysg/pc/images/hero/big_'+a.data.id+'.jpg" alt=""></div><div class="generals-box"><p class="tit-img-name"><s class="spbg hero-left-ico ico-rising"></s> 定位</p><p class="rising-ms">'+a.data.position+'</p></div><div class="generals-box"><p class="tit-img-name"><s class="spbg hero-left-ico ico-rising"></s> 技能</p><p class="rising-ms">'+a.data.skill+'</p></div></div><div class="role-ft"></div></div>',s.showBox.html(i+t),s.wujiangId.hide(),s.showBox.fadeIn()},"json"),this.showBox.on("click",".back-wujiang",function(){s.wujiangId.fadeIn(),s.showBox.hide()})},{init:function(s){new a(s)}}})().init(dataid)},function(a,s,i){i(0)}]);