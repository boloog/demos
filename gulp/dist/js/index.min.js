var gotop=function(){function i(i){this.target=i,this.bindEvent()}return i.prototype.bindEvent=function(){var i=this;$(window).on("scroll",function(){$(window).scrollTop()>200?i.target.show():i.target.hide()}),this.target.on("click",function(){$(window).scrollTop(0)})},i.prototype.createNode=function(){$("body").append(this.target)},{init:function(t){new i(t)}}}();gotop.init($(".goTop"));var slide=function(){function i(i){this.slideBox=i,this.prev=this.slideBox.find(".slider-prev"),this.next=this.slideBox.find(".slider-next"),this.slideUl=this.slideBox.find(".slide-ul"),this.slideLi=this.slideUl.find("li"),this.slideIndicator=this.slideBox.find(".slider-indicator"),this.pageIndex=0,this.slideAuto=null,this.isAnimate=!1,this.pageIndicator="",this.init(),this.bindEvent(),this.autoRun()}return i.prototype.init=function(){this.slideLi.css({width:$(window).width()});for(var i=0;i<this.slideLi.length;i++)this.pageIndicator+=i<1?"<i class='page-active'></i>":"<i></i>";this.slideIndicator.append(this.pageIndicator),this.imgLength=this.slideUl.children().length,this.cloneLi(),this.resetWidth()},i.prototype.cloneLi=function(){this.lastLi=this.slideUl.find("li").last(),this.firstLi=this.slideUl.find("li").first(),this.slideUl.prepend(this.lastLi.clone()),this.slideUl.append(this.firstLi.clone())},i.prototype.resetWidth=function(){this.windowWidth=$(window).width(),this.countLength=this.slideUl.children().length,this.slideLiWidth=this.windowWidth,this.boxWidth=parseInt(this.countLength*this.slideLiWidth),this.slideUl.css({left:-this.slideBox.width(),width:this.boxWidth})},i.prototype.bindEvent=function(){var i=this;this.len=1,this.slideBox.on("mouseenter",function(){i.slideBox.find(".slide-btn").show(),clearInterval(i.slideAuto)}),this.slideBox.on("mouseleave",function(){i.slideBox.find(".slide-btn").hide(),i.autoRun()}),this.slideIndicator.on("click","i",function(){var t=$(this).index();$(this).addClass("page-active").siblings().removeClass("page-active"),i.pageIndex>t?i.prevPage(i.pageIndex-t):i.nextPage(t-i.pageIndex)}),this.prev.on("click",function(){i.prevPage(i.len)}),this.next.on("click",function(){i.nextPage(i.len)})},i.prototype.prevPage=function(i){var t=this;t.isAnimate||(t.isAnimate=!0,t.pageIndex-=i,t.slideUl.animate({left:"+="+i*t.slideLiWidth},function(){t.pageIndex<0&&(t.pageIndex=t.imgLength-1,t.slideUl.css({left:-t.slideLiWidth*t.imgLength})),t.isAnimate=!1,t.slidePage(t.pageIndex)}))},i.prototype.nextPage=function(i){var t=this;t.isAnimate||(t.isAnimate=!0,t.pageIndex+=i,t.slideUl.animate({left:"-="+i*t.slideLiWidth},function(){t.pageIndex>t.imgLength-1&&(t.pageIndex=0,t.slideUl.css({left:-t.slideLiWidth})),t.isAnimate=!1,t.slidePage(t.pageIndex)}))},i.prototype.slidePage=function(){this.slideIndicator.find("i").removeClass("page-active").eq(this.pageIndex).addClass("page-active")},i.prototype.autoRun=function(){var i=this;this.slideAuto=setInterval(function(){i.nextPage(i.len)},3e3)},{init:function(t){t.each(function(t,e){new i($(e))})}}}();slide.init($(".slide-box"));var WaterFall={init:function(){this.addItem(5),this.layout(),this.resize(),this.addEvent()},addItem:function(i){this.number=i;for(var t=$(".wrap"),e="",n=0;n<this.number;n++)e+='<div class="item" style="height:'+parseInt(100*Math.random()+230)+"px;background-color:"+this.getRandColor()+'">'+n+"</div>";t.append(e)},layout:function(){for(var i=[],t=Math.floor($(".wrap").width()/$(".item").width()),e=0;e<t;e++)i[e]=0;$(".item").each(function(t,e){var n=Math.min.apply(null,i),s=i.indexOf(n);$(this).css({top:i[s],left:$(this).outerWidth(!0)*s}),i[s]+=$(this).outerHeight(!0),$(".wrap").css("height",i[s])})},resize:function(){$(window).resize(function(){WaterFall.layout()})},addEvent:function(){var i=this;$(".more").on("click",function(){i.addItem(5),i.layout()})},getRandColor:function(){for(var i="1234567890abcdef",t="#",e=0;e<6;e++)t+=i[Math.floor(Math.random()*i.length)];return t}};WaterFall.init();